查看提交历史:
`git log`,  按提交时间列出所有的更新，最近的更新排在最上面
`git log -2`, 用 -2 则仅显示最近的两次更新：
`git log -p -2`, 我们常用 -p 选项展开显示每次提交的内容差异，用 -2 则仅显示最近的两次更新：
`git log --stat -2`, 比如 --stat，仅显示简要的增改行数统计：
`git log --pretty=oneline` 
--pretty 选项，可以指定使用完全不同于默认格式的方式展示提交历史。比如用 oneline 将每个提交放在一行显示
另外还有 `short`，`full` 和 `fuller` 可以用，展示的信息或多或少有些不同，请自己动手实践一下看看效果如何。
但最有意思的是 format，可以定制要显示的记录格式，这样的输出便于后期编程提取分析，像这样：
`git log --pretty=format:"%h - %an, %ar : %s"`

表 2-1 列出了常用的格式占位符写法及其代表的意义。
```
选项 说明
    %H 提交对象（commit）的完整哈希字串
    %h 提交对象的简短哈希字串
    %T 树对象（tree）的完整哈希字串
    %t 树对象的简短哈希字串
    %P 父对象（parent）的完整哈希字串
    %p 父对象的简短哈希字串
    %an 作者（author）的名字
    %ae 作者的电子邮件地址
    %ad 作者修订日期（可以用 -date= 选项定制格式）
    %ar 作者修订日期，按多久以前的方式显示
    %cn 提交者(committer)的名字
    %ce 提交者的电子邮件地址
    %cd 提交日期
    %cr 提交日期，按多久以前的方式显示
    %s 提交说明
```

你一定奇怪作者（author）和提交者（committer）之间究竟有何差别，其实作者指的是实际作出修改的人，
提交者指的是最后将此工作成果提交到仓库的人。所以，当你为某个项目发布补丁，然后某个核心成员将你的补丁并入项目时，
你就是作者，而那个核心成员就是提交者。我们会在第五章再详细介绍两者之间的细微差别。
用 oneline 或 format 时结合 --graph 选项，可以看到开头多出一些 ASCII 字符串表示的简单图形，
形象地展示了每个提交所在的分支及其分化衍合情况。在我们之前提到的 Grit 项目仓库中可以看到：
`git log --pretty=format:"%h %s" --graph`

```
选项 说明
    -p 按补丁格式显示每个更新之间的差异。
    --stat 显示每次更新的文件修改统计信息。
    --shortstat 只显示 --stat 中最后的行数修改添加移除统计。
    --name-only 仅在提交信息后显示已修改的文件清单。
    --name-status 显示新增、修改、删除的文件清单。
    --abbrev-commit 仅显示 SHA-1 的前几个字符，而非所有的 40 个字符。
    --relative-date 使用较短的相对时间显示（比如，“2 weeks ago”）。
    --graph 显示 ASCII 图形表示的分支合并历史。
    --pretty 使用其他格式显示历史提交信息。可用的选项包括 oneline，short，full，fuller 和 format（后跟指定格式）。
```

撤消操作
修改最后一次提交:
有时候我们提交完了才发现漏掉了几个文件没有加，或者提交信息写错了。想要撤消刚才的提交操作，可以使用 --amend 选项重新提交：
` git commit --amend`
此命令将使用当前的暂存区域快照提交。如果刚才提交完没有作任何改动，直接运行此命令的话，相当于有机会重新编辑提交说明，但将要提交的文件快照和之前的一样。
启动文本编辑器后，会看到上次提交时的说明，编辑它确认没问题后保存退出，就会使用新的提交说明覆盖刚才失误的提交。

如果刚才提交时忘了暂存某些修改，可以先补上暂存操作，然后再运行 --amend 提交：
```
$ git commit -m 'initial commit'
$ git add forgotten_file
$ git commit --amend
```
上面的三条命令最终只是产生一个提交，第二个提交命令修正了第一个的提交内容。

取消已经暂存的文件
首先一定要使用: `git status` 获悉文件的状态
有两个修改过的文件，我们想要分开提交，但不小心用 git add . 全加到了暂存区域。
该如何撤消暂存其中的一个文件呢？其实，git status 的命令输出已经告诉了我们该怎么做：
`git reset HEAD 需要移除暂存区的文件`

取消对文件的修改
如果觉得刚才对 benchmarks.rb 的修改完全没有必要，该如何取消修改，回到之前的状态（也就是修改之前的版本）呢？
`git status` 同样提示了具体的撤消方法，接着上面的例子，现在未暂存区域看起来像这样：
在第二个括号中，`(use "git checkout -- <file>..." to discard changes in working directory)`
我们看到了抛弃文件修改的命令（至少在 Git 1.6.1 以及更高版本中会这样提示，
如果你还在用老版本，我们强烈建议你升级，以获取最佳的用户体验），让我们试试看：
`git checkout -- benchmarks.rb`

`一定注意:`
```
可以看到，该文件已经恢复到修改前的版本。你可能已经意识到了，这条命令有些危险，所有对文件的修改都没有了，
因为我们刚刚把之前版本的文件复制过来重写了此文件。所以在用这条命令前，请务必确定真的不再需要保留刚才的修改。
如果只是想回退版本，同时保留刚才的修改以便将来继续工作，可以用下章介绍的 `stashing` 和`分支`来处理，应该会更好些。
```

记住，任何已经提交到 Git 的都可以被恢复。即便在已经删除的分支中的提交，
或者用 --amend 重新改写的提交，都可以被恢复（关于数据恢复的内容见第九章）。
所以，你可能失去的数据，仅限于没有提交过的，对 Git 来说它们就像从未存在过一样。