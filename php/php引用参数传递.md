#### php参数的引用传递
常见错误参数传递时，使用&符号rr(&$are)
```php
$are = [1,2,3];
function rr($r) {
    $r['rr'] = 'rr';
    var_dump($r);
  }
  rr(&$are);
  var_dump($are);
```
正确写法：
```php 
//声明函数时，就要将参数声明为引用传递，这样当传递rr($are)时，参数就将接受这个数组的引用
$are = [1,2,3];
function rr(&$r) {
    $r['rr'] = 'rr';
    var_dump($r);
  }
  rr($are);
  var_dump($are);
```

`&`符号作用:
赋值语句中: 
`$a = & $b;`  //作用: 将$b在内存中的地址赋值给$a
但是却不能直接在表达式中使用(5.4版本以上会直接报致命错误):
比如:
`echo &$b;` //此语句将会报错
`var_dump(&$b)` //会报错

所以如果要在一个函数中返回一个引用,不能直接使用 `return &$a;`
从函数中返回引用:
直觉会这么写:
```php
$are = [1,2,3];
$arb = &$are;
function re() {
    static $a = 0;
    $a++;
    echo $a."\n";
    //return &$a; // PHP Parse error:  parse error

    $c = &$a;
    //var_dump(&$a);  //PHP Fatal error: Call-time pass-by-reference has been removed 
    //echo(&$a);  //PHP Parse error:  parse error
    return $c;    //$c虽然和$a指向的是同一个值(地址相同),但是return $c,实际上就和return $a一样,返回都是值的拷贝
    return $a;    //返回的是$a的拷贝
  }
```
re函数定义了一个静态变量,现在要把它的引用返回出来,我么发现不能直接`return &$a`;
既然不能直接`return &$a`;那么就间接的使用一个中间变量:`$c = &$a;`然后再返回$c;
但是这里想当然的以为`$c = &$a;`获得了$a变量的引用,其实在`return $c`时,return的是
$c值的拷贝,所以最后返回的值和静态变量没有任何关系.修改返回的值也不会修改这个静态变量.

> 实际上,在php函数中,函数都有返回值的.没有return 语句,那么默认的返回值为NULL
> 当显示的定义return 语句时,比如`return $a`返回的其实$a的一份拷贝值.
> php函数的默认返回的都是值的拷贝,不会返回值的引用.那么如果要返回值的引用,那该怎么返回呢?
> 直接这么写吗: `return &$a;`,但是这么写:
>   1.`&$a`还是取得一个具体的值返回,返回的依旧是值的拷贝
>   2.这么php5.4以上会报错的,不允许这么写,就像`var_dump(&$a)`会报错一样

如果要一个函数返回一个引用值,在php中应该在函数声明的时候,就指定函数的返回值为&引用.
`function &funName(){}` 这样的声明
像这样的函数声明,在调用的时候,有两种方式调用
1. `funName()` // 一般调用,返回的值就为返回的拷贝,正常的调用
2. `&funName()` //调用时,加上`&`,唯一的不同就是返回的值不再是返回值的一个拷贝了,而是返回值的引用了

> 一般都是返回对静态变量的引用,或者使用静态变量保存另一个变量(数组,对象)的引用.
> **但是一般Php的静态变量又不能直接的保存其他变量的引用,一般使用静态变量的数组元素保存**
> 返回局部变量引用没有意义,因为函数出栈后,局部变量就会回收的,此时返回的引用就为NULL了

同理:当一个函数的参数需要传递引用时,也是在函数的声明时候,就将函数的参数声明为`&arg`,即参数前面加`&`
比如:`function rr(&$r) {}` 
所以在传递参数的时候:就不在需要在实参前面加`&`,比如`rr(&$arr)`,在新版(5.4以上)会报错误
调用的时候,直接这个这么传:`rr($arr)`,即可,函数里面接收到的就是$arr的引用值了,不再是值的拷贝了

```
 function &re() {   //声明的函数名前面加上`&`表示可以返回返回值的引用
    static $a = 0;
    $a++;
    echo $a."\n";
    return $a;    //返回的是$a的拷贝
  }
  // 普通调用
  $r = re();    // 1
  $r = 12;          
  re();         // 2

  // &调用
  $r = re();    // 1
  $r = 12;          
  re();         // 13
```